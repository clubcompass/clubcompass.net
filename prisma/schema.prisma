datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

model club {
  id               String        @id @default(cuid())
  name             String        @unique
  email            String
  teacher          String
  meeting_time     String
  meeting_location String
  description      String
  link             String?
  link_name        String?
  image_link       String?
  image_caption    String?
  tags             tagsOnClub[]
  members          clubsOnUser[]
  president        user?         @relation(fields: [presidentId], references: [id])
  presidentId      String?
}

model tag {
  id    String       @id @default(cuid())
  name  String       @unique
  clubs tagsOnClub[]
}

model user {
  id          String        @id @unique
  firstname   String
  lastname    String
  email       String        @unique
  clubs       clubsOnUser[]
  presidentOf club[]
}

model tagsOnClub {
  id     String  @id @default(cuid())
  club   club?   @relation(fields: [clubId], references: [id])
  tag    tag?    @relation(fields: [tagId], references: [id])
  clubId String?
  tagId  String?
}

model clubsOnUser {
  id     String  @id @default(cuid())
  user   user?   @relation(fields: [userId], references: [id])
  club   club?   @relation(fields: [clubId], references: [id])
  userId String?
  clubId String?
}

// model clubRequest {
//   id                                                String   @id @default(cuid())
//   date                                              DateTime @default(now())
//   name                                              String   @unique
//   email                                             String
//   teacher                                           String
//   teacher_email                                     String
//   meeting_time                                      String
//   meeting_location                                  String
//   description                                       String
//   link                                              String?
//   link_name                                         String?
//   image_link                                        String?
//   image_caption                                     String?
//   tag_ids                                           String[]
//   presidentId                                       String
//   vicePresidentId                                   String
//   secretaryId                                       String
//   treasurerId                                       String
//   president_contact                                 String
//   initialMembers                                    String[]
//   membership_requirements                           String
//   duties_of_members                                 String
//   titles_and_duties_of_officers                     String
//   selection_of_officers                             String
//   officer_minimum_gpa                               String
//   minimum_percent_of_members_for_meeting            String
//   minimum_percent_of_members_for_approving_decision String
// }
